<app-navbar></app-navbar>

<div id="bevContainer" class="container">

    <h2>My Hot Beverages</h2>

    <button mat-flat-button color="accent" (click)="open(content)">+ Add To My List</button>

    <ng-template #content let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Add To My Beverages</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <form (submit) = "sendCardPost(name.value, temp.value, time.value, servingSize.value, ingredients.value, flavor.value, type.value, notes.value); false; name.value = ''; temp.value = ''; time.value = ''; servingSize.value = ''; ingredients.value = ''; flavor.value = ''; type.value = ''; notes.value = '';">
                <label for="name">Beverage Name</label>
                <input required #name type="text"/><br/>
                <label for="type">Type of Beverage</label>
                <select #type>
                    <option value="tea">Tea</option>
                    <option value="coffee">Coffee</option>
                    <option value="miscellaneous">Other</option>
                </select><br/>
                <label for="temp">Temperature</label>
                <input required #temp type="number"/><br/>
                <label for="time">Prep Time</label>
                <input required #time type="number"/><br/>
                <label for="servingSize">Serving Size</label>
                <select #servingSize placeholder="Serving Size">
                    <option value="8">8 oz.</option>
                    <option value="12">12 oz.</option>
                    <option value="16">16 oz.</option>
                    <option value="20">20 oz.</option>
                </select><br/>
                <label for="ingredients">Ingredients</label>
                <input required type = "textarea" #ingredients/><br/>
                <label for="flavor">Flavor Profile</label>
                <input required #flavor type="text"/><br/>
                <label for="notes">Additional Information</label>
                <input type = "textarea" #notes/>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline-dark" type = "submit">Save</button>
        </div>
    </ng-template>

  
    <!-- <div>
        <h2 mat-dialogue-title>Add To My Beverages</h2>
        <mat-dialog-content class="example-card mat-typography">
            <form (submit) = "sendCardPost(name.value, temp.value, time.value, servingSize.value, ingredients.value, flavor.value, type.value, notes.value); false; name.value = ''; temp.value = ''; time.value = ''; servingSize.value = ''; ingredients.value = ''; flavor.value = ''; type.value = ''; notes.value = '';">
                <mat-form-field class="half-width">
                    <input matInput required #name placeholder="Beverage Name"/>
                </mat-form-field>
                <mat-form-field class="half-width">
                    <mat-select #type placeholder="Type of Beverage">
                        <mat-option *ngFor="let beverage of beverages" [value]="beverage.value">
                            {{beverage.viewValue}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="third-width">
                    <input matInput required #temp type = "number" placeholder="Temperature"/>
                    <span matSuffix> º</span>
                </mat-form-field>
                <mat-form-field class="third-width">
                    <input matInput required #time type = "number" placeholder="Prep Time"/>
                    <span matSuffix> Minutes</span>
                </mat-form-field>
                <mat-form-field class="third-width">
                    <mat-select #servingSize placeholder="Serving Size">
                        <mat-option *ngFor="let size of sizes" [value]="size.value">
                            {{size.viewValue}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="half-width">
                    <input matInput required type = "textarea" #ingredients placeholder="Ingredients"/>
                </mat-form-field>
                <mat-form-field class="half-width">
                    <input matInput required #flavor placeholder="Flavor Profile"/>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput type = "textarea" #notes placeholder="Additional Information"/>
                </mat-form-field>
                <button mat-flat-button color="accent" type = "submit">Save</button>
            </form>
            <mat-dialog-actions align="end">
                <button mat-button mat-dialog-close>Cancel</button>
                <button mat-button [mat-dialog-close]="true" type = "submit" cdkFocusInitial>Save</button>
            </mat-dialog-actions>
        </mat-dialog-content>
    </div> -->

    <div *ngFor = "let card of cardArr">
        <h4>{{card.bevName}}</h4>
        <p>{{card.type}}</p>
        <p>{{card.temp}} °F</p>
        <p>{{card.prepTime}} minutes</p>
        <p>{{card.servingSize}}</p>
        <p>{{card.ingredients}}</p>
        <p>{{card.flavorProfile}}</p>
        <p>{{card.notes}}</p>
        <button type = "button">Edit</button>
        <button type = "button" (click) = "deleteConfirmation(card.id)">Delete</button>
    </div>

    <div id = "deleteConfirmation" style = "display: none">
        <p>Are you sure you want to delete this card?</p>
        <button (click) = "sendDeleteFetch(this.cardId); deleteConfirmation();">Yes</button>
        <button (click) = "deleteConfirmation()">No</button>
    </div>

</div>
