<app-navbar></app-navbar>

<div id="bevContainer" class="container">

    <h2>My Hot Beverages</h2>

    <button mat-flat-button color="accent" (click)="open(content)">+ Add To My List</button>

    <ng-template #content let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Add To My Beverages</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <form (submit) = "sendCardPost(name.value, temp.value, time.value, servingSize.value, ingredients.value, flavor.value, type.value, notes.value); false; name.value = ''; temp.value = ''; time.value = ''; servingSize.value = ''; ingredients.value = ''; flavor.value = ''; type.value = ''; notes.value = ''; modal.dismiss('Cross click');">
                <label for="name">Beverage Name</label>
                <input required #name type="text"/><br/>
                <label for="type">Type of Beverage</label>
                <select #type>
                    <option value="tea">Tea</option>
                    <option value="coffee">Coffee</option>
                    <option value="miscellaneous">Other</option>
                </select><br/>
                <label for="temp">Temperature</label>
                <input required #temp type="number"/><br/>
                <label for="time">Prep Time</label>
                <input required #time type="number"/><br/>
                <label for="servingSize">Serving Size</label>
                <select #servingSize placeholder="Serving Size">
                    <option value="8">8 oz.</option>
                    <option value="12">12 oz.</option>
                    <option value="16">16 oz.</option>
                    <option value="20">20 oz.</option>
                </select><br/>
                <label for="ingredients">Ingredients</label>
                <input required type = "textarea" #ingredients/><br/>
                <label for="flavor">Flavor Profile</label>
                <input required #flavor type="text"/><br/>
                <label for="notes">Additional Information</label>
                <input type = "textarea" #notes/><br/>
                <button class="btn btn-outline-dark" type = "submit">Save</button>
            </form>
        </div>
    </ng-template>

    <div *ngFor = "let card of cardArr" class="cardContainer">
        <h4>{{card.bevName}}</h4>
        <p><strong>Type of Beverage:</strong> {{card.type}}</p>
        <p><strong>Temperature:</strong> {{card.temp}} Â°F</p>
        <p><strong>Prep Time:</strong> {{card.prepTime}} Minutes</p>
        <p><strong>Serving Size:</strong> {{card.servingSize}} oz.</p>
        <p><strong>Ingredients:</strong> {{card.ingredients}}</p>
        <p><strong>Flavor Profile:</strong> {{card.flavorProfile}}</p>
        <p><strong>Additional Notes:</strong><br/>{{card.notes}}</p><br/>
        <button type = "button" mat-flat-button color="accent">Edit</button>
        <button type = "button" mat-flat-button color="warn" (click)="open(delete)">Delete</button>
        
        <ng-template #delete let-modal>
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Are you sure you want to delete {{card.bevName}}?</h4>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-footer">
                <button (click) = "modal.dismiss()">No</button>
                <button cdk-focus-initial (click) = "sendDeleteFetch(card.id);modal.dismiss();">Yes</button>
            </div>
        </ng-template>
    </div>
    
</div>
